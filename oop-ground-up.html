<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="data:;base64,iVBORw0KGgo="/><meta name="author" content="Jimmy Miller"/><link rel="alternate" type="application/rss+xml" title="jimmyhmiller.github.io" href="feed.xml"/><title>OOP from the ground up</title><meta name="next-head-count" content="6"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-779b41245c009d2a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9a4e0bcfd9f9bf48.js" defer=""></script><script src="/_next/static/chunks/346-54adb587a188464b.js" defer=""></script><script src="/_next/static/chunks/854-585071c317c86ef6.js" defer=""></script><script src="/_next/static/chunks/pages/oop-ground-up-866107b69d49ab72.js" defer=""></script><script src="/_next/static/NkSpooCu6BjZSpPPrzhqj/_buildManifest.js" defer=""></script><script src="/_next/static/NkSpooCu6BjZSpPPrzhqj/_ssgManifest.js" defer=""></script><script src="/_next/static/NkSpooCu6BjZSpPPrzhqj/_middlewareManifest.js" defer=""></script><style id="__jsx-4dc580444c2ee173">body{font-family:helvetica,sans-serif;color:#333;line-height:1.5}a{color:#333}</style></head><body><div id="__next" data-reactroot=""><div style="margin:0 auto;max-width:700px"><div style="position:relative"><div style="position:absolute;right:0;top:0"><a style="text-decoration:none" href="/"><h1 style="color:#999">Jimmy Miller</h1></a></div></div><div style="padding-top:70px"><h1>OOP from the ground up</h1><p>Any concept when taken for granted can lead to misunderstanding. Concepts we don&#x27;t understand appear magical, making them either scary or compelling. In fact, typically the difference in attitude towards these magical objects is that of our peers. Despite the popular view that programming is an ever-changing field, new ideas in the programming world must fight a hard-fought battle. Often things that aren&#x27;t familiar to the programmer who encounters them are met with suspicion or disdain. But not so with objects, or at least not anymore. Objects have captured the popular mindshare of developers. Objects are the bread and butter of programming, to the point where people are often confused at how languages with no objects can exist at all. We are going to peel back those covers and implement our own objects from the ground up.</p><h2>The Simplest Object</h2><p>In order to begin, we must have a target in mind for our first object. A &quot;hello world&quot; of objects, from there we will move to more advanced features implementing them ourselves along the way.</p><pre style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background-color:#fff"><code style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#859900">const</span> person <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#586e75">{</span>
  firstName<span class="token" style="color:#586e75">:</span> <span class="token" style="color:#2aa198">&quot;Alonzo&quot;</span><span class="token" style="color:#586e75">,</span>
  lastName<span class="token" style="color:#586e75">:</span> <span class="token" style="color:#2aa198">&quot;Church&quot;</span>
<span class="token" style="color:#586e75">}</span>

person<span class="token" style="color:#586e75">.</span>firstName <span class="token" style="color:#93a1a1">// Alonzo</span>
person<span class="token" style="color:#586e75">.</span>lastName <span class="token" style="color:#93a1a1">// Church</span>
</code></pre><p>This is our target, so in order to implement it, we must understand it. The object above has two properties, firstName and lastName and it has some way to access those properties (the . operator). Now, our &quot;object&quot;, because it isn&#x27;t built into the language, is certainly not going to have as nice of a syntax as the one above, but we can definitely emulate the behavior of the object above.</p><pre style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background-color:#fff"><code style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#859900">function</span> <span class="token" style="color:#b58900">person</span><span class="token" style="color:#586e75">(</span><span class="token parameter">property</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
  <span class="token" style="color:#859900">if</span> <span class="token" style="color:#586e75">(</span>property <span class="token" style="color:#cb4b16">===</span> <span class="token" style="color:#2aa198">&#x27;firstName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
    <span class="token" style="color:#859900">return</span> <span class="token" style="color:#2aa198">&#x27;Alonzo&#x27;</span><span class="token" style="color:#586e75">;</span>
  <span class="token" style="color:#586e75">}</span> <span class="token" style="color:#859900">else</span> <span class="token" style="color:#859900">if</span> <span class="token" style="color:#586e75">(</span>property <span class="token" style="color:#cb4b16">===</span> <span class="token" style="color:#2aa198">&#x27;lastName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
    <span class="token" style="color:#859900">return</span> <span class="token" style="color:#2aa198">&#x27;Church&#x27;</span><span class="token" style="color:#586e75">;</span>
  <span class="token" style="color:#586e75">}</span>
<span class="token" style="color:#586e75">}</span>

<span class="token" style="color:#b58900">person</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;firstName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// Alonzo</span>
<span class="token" style="color:#b58900">person</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;lastName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// Church</span>
</code></pre><p>So here it is, our first &quot;object&quot;. It might be hard to see exactly how our function here is an object, but with a little squinting, we can see that it fulfills the exact same role as an object. The normal object has two properties that we can access, so does our &quot;object&quot;. The only difference between them is the method of access. Our normal objects have their properties accessed through the dot operator, while our &quot;objects&quot; are through function application. In fact, a simple shift in language can show just how similar our &quot;object&quot; is to real objects.<!-- --> </p><h3>Terminological</h3><p>SmallTalk is one of the first OO languages; almost all of what is thought about as OO stems from it. Unfortunately, we have lost a bit of SmallTalks terminology, terminology which would make things more clear. In the languages we are used to there are two ways to do things with objects, accessing properties (or fields) and invoking methods. With SmallTalk, there was just a single abstraction, message passing (This is called the &quot;uniform access principle&quot; and is the reason people often cite for Java getters/setters.) This &quot;limitation&quot; does not make SmallTalk any less capable. Everything you can do with objects in a modern language can be done in SmallTalk. Once we think about the dot operator as simply sending a message to our object, is our function application any different? We are simply sending the message as a string and our object is replying.</p><h2>More Advanced Objects</h2><p>Our first object (I hope you can see that I am justified in remove those quotes) was fairly limited. In order to make a new person with a different name, we would have to go write a whole new function. But our original javascript object had the same problem, while simpler in syntax, we still how to write out the whole thing. Let&#x27;s fix that.</p><pre style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background-color:#fff"><code style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#859900">function</span> <span class="token" style="color:#b58900">createPerson</span><span class="token" style="color:#586e75">(</span><span class="token parameter">firstName<span class="token" style="color:#586e75">,</span> lastName</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
  <span class="token" style="color:#859900">return</span> <span class="token" style="color:#586e75">{</span>
    firstName<span class="token" style="color:#586e75">:</span> firstName<span class="token" style="color:#586e75">,</span>
    lastName<span class="token" style="color:#586e75">:</span> lastName
  <span class="token" style="color:#586e75">}</span>
<span class="token" style="color:#586e75">}</span>

<span class="token" style="color:#859900">const</span> person <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#b58900">createPerson</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;Alonzo&#x27;</span><span class="token" style="color:#586e75">,</span> <span class="token" style="color:#2aa198">&#x27;Church&#x27;</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span>
person<span class="token" style="color:#586e75">.</span>firstName <span class="token" style="color:#93a1a1">// Alonzo</span>
person<span class="token" style="color:#586e75">.</span>lastName <span class="token" style="color:#93a1a1">// Church</span>
</code></pre><p>Simple enough change, we just made a function that takes some parameters and returns our object. In fact, we can do the same for our object.</p><pre style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background-color:#fff"><code style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#859900">function</span> <span class="token" style="color:#b58900">createPerson</span><span class="token" style="color:#586e75">(</span><span class="token parameter">firstName<span class="token" style="color:#586e75">,</span> lastName</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
  <span class="token" style="color:#859900">return</span> <span class="token" style="color:#859900">function</span><span class="token" style="color:#586e75">(</span><span class="token parameter">property</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
    <span class="token" style="color:#859900">if</span> <span class="token" style="color:#586e75">(</span>property <span class="token" style="color:#cb4b16">===</span> <span class="token" style="color:#2aa198">&#x27;firstName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
      <span class="token" style="color:#859900">return</span> firstName<span class="token" style="color:#586e75">;</span>
    <span class="token" style="color:#586e75">}</span> <span class="token" style="color:#859900">else</span> <span class="token" style="color:#859900">if</span> <span class="token" style="color:#586e75">(</span>property <span class="token" style="color:#cb4b16">===</span> <span class="token" style="color:#2aa198">&#x27;lastName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
      <span class="token" style="color:#859900">return</span> lastName<span class="token" style="color:#586e75">;</span>
    <span class="token" style="color:#586e75">}</span>
  <span class="token" style="color:#586e75">}</span>
<span class="token" style="color:#586e75">}</span>

<span class="token" style="color:#859900">const</span> person <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#b58900">createPerson</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;Alonzo&#x27;</span><span class="token" style="color:#586e75">,</span> <span class="token" style="color:#2aa198">&#x27;Church&#x27;</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span>
<span class="token" style="color:#b58900">person</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;firstName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// Alonzo</span>
<span class="token" style="color:#b58900">person</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;lastName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// Church</span>
</code></pre><p>Since our object is just a function, we create a function that returns a function. Even with this &quot;factory&quot; function, our object continues to work just as it did before. But some of you may think, that&#x27;s not a &quot;real&quot; object, &quot;real&quot; objects have methods. So let&#x27;s add a method.</p><h3>Methods</h3><pre style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background-color:#fff"><code style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#859900">function</span> <span class="token" style="color:#b58900">createPerson</span><span class="token" style="color:#586e75">(</span><span class="token parameter">firstName<span class="token" style="color:#586e75">,</span> lastName</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
  <span class="token" style="color:#859900">return</span> <span class="token" style="color:#586e75">{</span>
    firstName<span class="token" style="color:#586e75">:</span> firstName<span class="token" style="color:#586e75">,</span>
    lastName<span class="token" style="color:#586e75">:</span> lastName<span class="token" style="color:#586e75">,</span>
    <span class="token function-variable" style="color:#b58900">fullName</span><span class="token" style="color:#586e75">:</span> <span class="token" style="color:#859900">function</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
        <span class="token" style="color:#859900">return</span> firstName <span class="token" style="color:#cb4b16">+</span> <span class="token" style="color:#2aa198">&quot; &quot;</span> <span class="token" style="color:#cb4b16">+</span> lastName<span class="token" style="color:#586e75">;</span>
    <span class="token" style="color:#586e75">}</span>
  <span class="token" style="color:#586e75">}</span>
<span class="token" style="color:#859900">const</span> person <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#b58900">createPerson</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;Alonzo&#x27;</span><span class="token" style="color:#586e75">,</span> <span class="token" style="color:#2aa198">&#x27;Church&#x27;</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span>
person<span class="token" style="color:#586e75">.</span><span class="token" style="color:#b58900">fullName</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span> <span class="token" style="color:#93a1a1">// Alonzo Church</span>
</code></pre><p>Alright, there we are, an object with a method, this won&#x27;t be too hard to recreate using our function technique.</p><pre style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background-color:#fff"><code style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#859900">function</span> <span class="token" style="color:#b58900">createPerson</span><span class="token" style="color:#586e75">(</span><span class="token parameter">firstName<span class="token" style="color:#586e75">,</span> lastName</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
  <span class="token" style="color:#859900">return</span> <span class="token" style="color:#859900">function</span><span class="token" style="color:#586e75">(</span><span class="token parameter">property</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
    <span class="token" style="color:#859900">if</span> <span class="token" style="color:#586e75">(</span>property <span class="token" style="color:#cb4b16">===</span> <span class="token" style="color:#2aa198">&#x27;firstName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
      <span class="token" style="color:#859900">return</span> firstName<span class="token" style="color:#586e75">;</span>
    <span class="token" style="color:#586e75">}</span> <span class="token" style="color:#859900">else</span> <span class="token" style="color:#859900">if</span> <span class="token" style="color:#586e75">(</span>property <span class="token" style="color:#cb4b16">===</span> <span class="token" style="color:#2aa198">&#x27;lastName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
      <span class="token" style="color:#859900">return</span> lastName<span class="token" style="color:#586e75">;</span>
    <span class="token" style="color:#586e75">}</span> <span class="token" style="color:#859900">else</span> <span class="token" style="color:#859900">if</span> <span class="token" style="color:#586e75">(</span>property <span class="token" style="color:#cb4b16">===</span> <span class="token" style="color:#2aa198">&#x27;fullName&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
      <span class="token" style="color:#859900">return</span> <span class="token" style="color:#859900">function</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
        <span class="token" style="color:#859900">return</span> firstName <span class="token" style="color:#cb4b16">+</span> <span class="token" style="color:#2aa198">&quot; &quot;</span> <span class="token" style="color:#cb4b16">+</span> lastName<span class="token" style="color:#586e75">;</span>
      <span class="token" style="color:#586e75">}</span>
    <span class="token" style="color:#586e75">}</span>
  <span class="token" style="color:#586e75">}</span>
<span class="token" style="color:#586e75">}</span>

<span class="token" style="color:#859900">const</span> person <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#b58900">createPerson</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;Alonzo&#x27;</span><span class="token" style="color:#586e75">,</span> <span class="token" style="color:#2aa198">&#x27;Church&#x27;</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span>
<span class="token" style="color:#b58900">person</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;fullName&#x27;</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span> <span class="token" style="color:#93a1a1">// Alonzo Church</span>
</code></pre><p>That was simple enough. A method is really just a function. So all we need to do is have our object return a function when you access a property. Then you can call that function. Again though, some people might be saying, this isn&#x27;t a &quot;real&quot; object, &quot;real&quot; objects encapsulate state.<!-- --> </p><h3>State</h3><pre style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background-color:#fff"><code style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#859900">function</span> <span class="token" style="color:#b58900">makeCounter</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
  <span class="token" style="color:#859900">return</span> <span class="token" style="color:#586e75">{</span>
    value<span class="token" style="color:#586e75">:</span> <span class="token" style="color:#268bd2">0</span><span class="token" style="color:#586e75">,</span>
    <span class="token function-variable" style="color:#b58900">increment</span><span class="token" style="color:#586e75">:</span> <span class="token" style="color:#859900">function</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
      <span class="token" style="color:#859900">this</span><span class="token" style="color:#586e75">.</span>value <span class="token" style="color:#cb4b16">+=</span> <span class="token" style="color:#268bd2">1</span><span class="token" style="color:#586e75">;</span>
      <span class="token" style="color:#859900">return</span> <span class="token" style="color:#859900">this</span><span class="token" style="color:#586e75">.</span>value<span class="token" style="color:#586e75">;</span>
    <span class="token" style="color:#586e75">}</span>
  <span class="token" style="color:#586e75">}</span>
<span class="token" style="color:#586e75">}</span>

<span class="token" style="color:#859900">const</span> counter1 <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#b58900">makeCounter</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span>
<span class="token" style="color:#859900">const</span> counter2 <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#b58900">makeCounter</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span>

counter1<span class="token" style="color:#586e75">.</span><span class="token" style="color:#b58900">increment</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// 1</span>
counter1<span class="token" style="color:#586e75">.</span><span class="token" style="color:#b58900">increment</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// 2</span>

counter2<span class="token" style="color:#586e75">.</span><span class="token" style="color:#b58900">increment</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// 1</span>
counter1<span class="token" style="color:#586e75">.</span><span class="token" style="color:#b58900">increment</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// 3</span>
</code></pre><p>Here we have an object which encapsulates a bit of state. Each counter here keeps its own value. We can call increment on one counter, without affecting the other. This might seem a bit tricky to implement using our function-style objects, but it actually is no more complicated than any others.</p><pre style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background-color:#fff"><code style="color:#657b83;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#859900">function</span> <span class="token" style="color:#b58900">makeCounter</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
  <span class="token" style="color:#859900">const</span> value <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#268bd2">0</span><span class="token" style="color:#586e75">;</span>
  <span class="token" style="color:#859900">return</span> <span class="token" style="color:#859900">function</span><span class="token" style="color:#586e75">(</span><span class="token parameter">property</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
    <span class="token" style="color:#859900">if</span> <span class="token" style="color:#586e75">(</span>property <span class="token" style="color:#cb4b16">===</span> <span class="token" style="color:#2aa198">&#x27;increment&#x27;</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
      <span class="token" style="color:#859900">return</span> <span class="token" style="color:#859900">function</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#586e75">{</span>
        value <span class="token" style="color:#cb4b16">+=</span> <span class="token" style="color:#268bd2">1</span><span class="token" style="color:#586e75">;</span>
        <span class="token" style="color:#859900">return</span> value<span class="token" style="color:#586e75">;</span>
      <span class="token" style="color:#586e75">}</span>
    <span class="token" style="color:#586e75">}</span>
  <span class="token" style="color:#586e75">}</span>
<span class="token" style="color:#586e75">}</span>

<span class="token" style="color:#859900">const</span> counter1 <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#b58900">makeCounter</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span>
<span class="token" style="color:#859900">const</span> counter2 <span class="token" style="color:#cb4b16">=</span> <span class="token" style="color:#b58900">makeCounter</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">;</span>

<span class="token" style="color:#b58900">counter1</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;increment&#x27;</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// 1</span>
<span class="token" style="color:#b58900">counter1</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;increment&#x27;</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// 2</span>

<span class="token" style="color:#b58900">counter2</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;increment&#x27;</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span> <span class="token" style="color:#93a1a1">// 1</span>
<span class="token" style="color:#b58900">counter1</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#2aa198">&#x27;increment&#x27;</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#586e75">(</span><span class="token" style="color:#586e75">)</span><span class="token" style="color:#93a1a1">// 3</span>
</code></pre><p>Our object with encapsulated state makes use of closures to hold state. In fact, in this version, our state is actually further encapsulated because our value isn&#x27;t publicly accessible. The only way anyone can get at the value is by sending the message &#x27;increment&#x27;.</p><h3>More to come</h3><p>This is of course a lot more to object-oriented programming than what has been shown here. Most notably missing from the discussion is inheritance. Unfortunately addressing inheritance is a bit outside the scope of this article. Perhaps we will revisit it at some point in the future. But even with that feature left out, I hope some of the magic has been removed from objects. Objects aren&#x27;t special. We don&#x27;t need magic to make them, we just need simple functions.</p></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/oop-ground-up","query":{},"buildId":"NkSpooCu6BjZSpPPrzhqj","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>